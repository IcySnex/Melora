import{_ as r,c as i,b as o,a,e as t,d as n,f as l,r as p,o as c}from"./app-DS8RxCfC.js";const u="/Melora/plugin-development/createnewproject.webp",d="/Melora/plugin-development/installapi.webp",g="/Melora/plugin-development/automaticallybuild.webp",y={};function h(m,e){const s=p("RouteLink");return c(),i("div",null,[e[11]||(e[11]=o('<p>This guide will walk you through preparing a new project for creating a Melora plugin bundle and installing all necessary components.</p><p>For simplicity this guide will only show screenshots of <strong>Visual Studio 2022</strong>, but the process should be similar on other IDEs.</p><h2 id="requirements" tabindex="-1"><a class="header-anchor" href="#requirements"><span>Requirements</span></a></h2><ul><li>An IDE with support for <strong>.NET</strong> and <strong>WinUI app development</strong></li><li>Windows SDK version <strong>10.0.17763.0</strong> or <strong>higher</strong></li></ul><p><strong>➔ Suggestion:</strong> Visual Studio 2022</p><h2 id="start-your-plugin" tabindex="-1"><a class="header-anchor" href="#start-your-plugin"><span>Start Your Plugin</span></a></h2><h3 id="step-1-clone-fork-melora" tabindex="-1"><a class="header-anchor" href="#step-1-clone-fork-melora"><span>Step 1: Clone/Fork Melora</span></a></h3><p>Cloning or forking the <a href="https://github.com/IcySnex/Melora" target="_blank" rel="noopener noreferrer">Melora Repository</a> is <strong>optional</strong>, but it can make development and debugging significantly easier. It allows you to debug your plugin directly in Visual Studio and see how it interacts with the actual Melora application.</p><p>After you have cloned/forked the repository, please first make sure you are even able to build and run Melora.</p><p>For simplicity, the following steps assume you&#39;re developing within the Melora solution. However, you can easily adapt these instructions if you didn&#39;t clone/fork the solution.</p><h3 id="step-2-create-a-new-project" tabindex="-1"><a class="header-anchor" href="#step-2-create-a-new-project"><span>Step 2: Create a new Project</span></a></h3><p>Start by creating a new project of type <a href="https://learn.microsoft.com/en-us/dotnet/core/tutorials/library-with-visual-studio?pivots=dotnet-8-0" target="_blank" rel="noopener noreferrer">Class Library</a> that targets <strong>.NET 8.0</strong> inside the <strong>&quot;Plugins&quot;</strong> folder <em>- next to the already developed plugins</em>.</p><p>You can choose any name for your project, but it&#39;s recommend following the naming pattern: <code>Melora.{PlatformKind}.{Name}</code>. Here, <code>{PlatformKind}</code> indicates the type of plugin (e.g., &quot;PlatformSupport&quot;, &quot;MetaData&quot;, ...), and <code>{Name}</code> is a unique identifier for your plugin.</p><figure><img src="'+u+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="step-3-installing-the-api" tabindex="-1"><a class="header-anchor" href="#step-3-installing-the-api"><span>Step 3: Installing the API</span></a></h3><p>To interact with the Melora client, you will need to reference the shared API.</p><p>If you have cloned/forked the <a href="https://github.com/IcySnex/Melora" target="_blank" rel="noopener noreferrer">Melora Repository</a>, just expand your new project &gt; right click on <strong>&quot;Dependencies&quot;</strong> &gt; press <strong>&quot;Add Project Reference&quot;</strong>. Now check the box for <strong>&quot;Melora.Plugins&quot;</strong> and press <strong>&quot;OK&quot;</strong>.</p><figure><img src="'+d+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><div class="hint-container info"><p class="hint-container-title">Note</p><p>If you haven&#39;t cloned/forked the <a href="https://github.com/IcySnex/Melora" target="_blank" rel="noopener noreferrer">Melora Repository</a> you can instead install the <code>Melora.Plugins</code> APi via the <a href="https://learn.microsoft.com/en-us/dotnet/core/tools/" target="_blank" rel="noopener noreferrer">.NET CLI</a> or <a href="https://www.nuget.org/" target="_blank" rel="noopener noreferrer">NuGet Package Manager</a>.</p><div class="language-ps line-numbers-mode" data-highlighter="shiki" data-ext="ps" data-title="ps" style="background-color:#1a1b26;color:#a9b1d6;"><pre class="shiki tokyo-night vp-code"><code><span class="line"><span style="color:#A9B1D6;">dotnet add </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A9B1D6;">PROJECT NAME</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A9B1D6;"> package Melora.Plugins</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></div><h3 id="step-4-create-a-plugin-manifest" tabindex="-1"><a class="header-anchor" href="#step-4-create-a-plugin-manifest"><span>Step 4 : Create a Plugin Manifest</span></a></h3>',20)),a("p",null,[e[1]||(e[1]=t("So that Melora can display your plugin you'll need to provide some basic information about it. This manifest is also useful if you plan to publish your plugin to the ")),n(s,{to:"/plugin-collection/"},{default:l(()=>e[0]||(e[0]=[t("official Melora Plugin Collection")])),_:1}),e[2]||(e[2]=t("."))]),e[12]||(e[12]=o("<ul><li>Create a new file named <strong>&quot;Manifest.json&quot;</strong> in the root of your project.</li><li>Set the <strong>&quot;Build Action&quot;</strong> of this file to <strong>&quot;Content&quot;</strong></li><li>Set <strong>&quot;Copy to Output Directory&quot;</strong> to &quot;<strong>Copy always&quot;</strong> or <strong>&quot;Copy if newer&quot;</strong>.</li></ul>",1)),a("p",null,[e[4]||(e[4]=t("To see how a manifest should be structured and what it should contain, please see ")),n(s,{to:"/plugin-development/manifest.html#structure"},{default:l(()=>e[3]||(e[3]=[t("here")])),_:1}),e[5]||(e[5]=t("."))]),e[13]||(e[13]=o(`<h3 id="step-5-modify-the-csproj-file" tabindex="-1"><a class="header-anchor" href="#step-5-modify-the-csproj-file"><span>Step 5: Modify the .csproj File</span></a></h3><ul><li><strong>Add <code>&lt;EnableDynamicLoading /&gt;</code></strong>: This setting allows your assembly to be dynamically loaded by Melora.</li><li><strong>Exclude <code>Melora.Plugins</code> assets:</strong> Ensure that <strong>Melora.Plugins</strong> is excluded from the build, since the client will provide this API.</li><li><strong>(Optional) Add Post-Build script:</strong> This script automatically creates the <strong>.mlr</strong> plugin bundle and moves it to the Melora Plugins directory, saving you from manually doing that each time you modify your plugin code. <strong>Please note that this will only work if you have the cloned/forked Melora project in the steps before!</strong></li></ul><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" data-title="xml" style="background-color:#1a1b26;color:#a9b1d6;"><pre class="shiki tokyo-night vp-code"><code><span class="line"><span style="color:#BA3C97;">&lt;</span><span style="color:#F7768E;">Project</span><span style="color:#BB9AF7;"> Sdk</span><span style="color:#DE5971;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#9ECE6A;">Microsoft.NET.Sdk</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BA3C97;">&gt;</span></span>
<span class="line"><span style="color:#51597D;font-style:italic;">	&lt;!--  General  --&gt;</span></span>
<span class="line"><span style="color:#BA3C97;">	&lt;</span><span style="color:#F7768E;">PropertyGroup</span><span style="color:#BA3C97;">&gt;</span></span>
<span class="line"><span style="color:#BA3C97;">		&lt;</span><span style="color:#F7768E;">TargetFramework</span><span style="color:#BA3C97;">&gt;</span><span style="color:#A9B1D6;">net8.0</span><span style="color:#BA3C97;">&lt;/</span><span style="color:#F7768E;">TargetFramework</span><span style="color:#BA3C97;">&gt;</span></span>
<span class="line"><span style="color:#BA3C97;">		&lt;</span><span style="color:#F7768E;">ImplicitUsings</span><span style="color:#BA3C97;">&gt;</span><span style="color:#A9B1D6;">enable</span><span style="color:#BA3C97;">&lt;/</span><span style="color:#F7768E;">ImplicitUsings</span><span style="color:#BA3C97;">&gt;</span></span>
<span class="line"><span style="color:#A9B1D6;">		</span></span>
<span class="line"><span style="color:#BA3C97;">		&lt;</span><span style="color:#F7768E;">Nullable</span><span style="color:#BA3C97;">&gt;</span><span style="color:#A9B1D6;">enable</span><span style="color:#BA3C97;">&lt;/</span><span style="color:#F7768E;">Nullable</span><span style="color:#BA3C97;">&gt;</span></span>
<span class="line"></span>
<span class="line highlighted"><span style="color:#BA3C97;">		&lt;</span><span style="color:#F7768E;">EnableDynamicLoading</span><span style="color:#BA3C97;">&gt;</span><span style="color:#A9B1D6;">true</span><span style="color:#BA3C97;">&lt;/</span><span style="color:#F7768E;">EnableDynamicLoading</span><span style="color:#BA3C97;">&gt;</span></span>
<span class="line"><span style="color:#BA3C97;">	&lt;/</span><span style="color:#F7768E;">PropertyGroup</span><span style="color:#BA3C97;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#51597D;font-style:italic;">	&lt;!--  Dependencies  --&gt;</span></span>
<span class="line"><span style="color:#BA3C97;">	&lt;</span><span style="color:#F7768E;">ItemGroup</span><span style="color:#BA3C97;">&gt;</span></span>
<span class="line"><span style="color:#BA3C97;">		&lt;</span><span style="color:#F7768E;">ProjectReference</span><span style="color:#BB9AF7;"> Include</span><span style="color:#DE5971;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#9ECE6A;">..\\Melora.Plugins\\Melora.Plugins.csproj</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BA3C97;">&gt;</span></span>
<span class="line highlighted"><span style="color:#BA3C97;">			&lt;</span><span style="color:#F7768E;">Private</span><span style="color:#BA3C97;">&gt;</span><span style="color:#A9B1D6;">false</span><span style="color:#BA3C97;">&lt;/</span><span style="color:#F7768E;">Private</span><span style="color:#BA3C97;">&gt;</span></span>
<span class="line highlighted"><span style="color:#BA3C97;">			&lt;</span><span style="color:#F7768E;">ExcludeAssets</span><span style="color:#BA3C97;">&gt;</span><span style="color:#A9B1D6;">runtime</span><span style="color:#BA3C97;">&lt;/</span><span style="color:#F7768E;">ExcludeAssets</span><span style="color:#BA3C97;">&gt;</span></span>
<span class="line"><span style="color:#BA3C97;">		&lt;/</span><span style="color:#F7768E;">ProjectReference</span><span style="color:#BA3C97;">&gt;</span></span>
<span class="line"><span style="color:#BA3C97;">	&lt;/</span><span style="color:#F7768E;">ItemGroup</span><span style="color:#BA3C97;">&gt;</span></span>
<span class="line"><span style="color:#A9B1D6;">    </span></span>
<span class="line"><span style="color:#51597D;font-style:italic;">    &lt;!--  Resources  --&gt;</span></span>
<span class="line"><span style="color:#BA3C97;">    &lt;</span><span style="color:#F7768E;">ItemGroup</span><span style="color:#BA3C97;">&gt;</span></span>
<span class="line"><span style="color:#BA3C97;">    	&lt;</span><span style="color:#F7768E;">Content</span><span style="color:#BB9AF7;"> Include</span><span style="color:#DE5971;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#9ECE6A;">Manifest.json</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BA3C97;">&gt;</span></span>
<span class="line"><span style="color:#BA3C97;">    		&lt;</span><span style="color:#F7768E;">CopyToOutputDirectory</span><span style="color:#BA3C97;">&gt;</span><span style="color:#A9B1D6;">Always</span><span style="color:#BA3C97;">&lt;/</span><span style="color:#F7768E;">CopyToOutputDirectory</span><span style="color:#BA3C97;">&gt;</span></span>
<span class="line"><span style="color:#BA3C97;">    	&lt;/</span><span style="color:#F7768E;">Content</span><span style="color:#BA3C97;">&gt;</span></span>
<span class="line"><span style="color:#BA3C97;">    &lt;/</span><span style="color:#F7768E;">ItemGroup</span><span style="color:#BA3C97;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#51597D;font-style:italic;">	&lt;!--  Copy to Melora Plugins directory  --&gt;</span></span>
<span class="line highlighted"><span style="color:#BA3C97;">	&lt;</span><span style="color:#F7768E;">Target</span><span style="color:#BB9AF7;"> Name</span><span style="color:#DE5971;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#9ECE6A;">PostBuild</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BB9AF7;"> AfterTargets</span><span style="color:#DE5971;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#9ECE6A;">PostBuildEvent</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BA3C97;">&gt;</span></span>
<span class="line highlighted"><span style="color:#BA3C97;">		&lt;</span><span style="color:#F7768E;">Exec</span><span style="color:#BB9AF7;"> Command</span><span style="color:#DE5971;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#9ECE6A;">powershell Compress-Archive -Path &#39;$(TargetDir)*&#39; -DestinationPath &#39;$(TargetDir)\\PluginArchive.zip&#39; -Force</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BA3C97;"> /&gt;</span></span>
<span class="line highlighted"><span style="color:#BA3C97;">		&lt;</span><span style="color:#F7768E;">Exec</span><span style="color:#BB9AF7;"> Command</span><span style="color:#DE5971;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#9ECE6A;">powershell New-Item -ItemType Directory -Path &#39;$(SolutionDir)\\Melora\\bin\\x64\\$(Configuration)\\net8.0-windows10.0.19041.0\\Plugins&#39; -Force</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BA3C97;"> /&gt;</span></span>
<span class="line highlighted"><span style="color:#BA3C97;">		&lt;</span><span style="color:#F7768E;">Exec</span><span style="color:#BB9AF7;"> Command</span><span style="color:#DE5971;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#9ECE6A;">powershell Copy-Item -Path &#39;$(TargetDir)\\PluginArchive.zip&#39; -Destination &#39;$(SolutionDir)\\Melora\\bin\\x64\\$(Configuration)\\net8.0-windows10.0.19041.0\\Plugins\\$(ProjectName).mlr&#39; -Force</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BA3C97;"> /&gt;</span></span>
<span class="line highlighted"><span style="color:#BA3C97;">	&lt;/</span><span style="color:#F7768E;">Target</span><span style="color:#BA3C97;">&gt;</span></span>
<span class="line"><span style="color:#BA3C97;">&lt;/</span><span style="color:#F7768E;">Project</span><span style="color:#BA3C97;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="step-6-optional-automatically-build" tabindex="-1"><a class="header-anchor" href="#step-6-optional-automatically-build"><span>Step 6 (Optional): Automatically Build</span></a></h3><p>So you don&#39;t have to manually click the <strong>Build</strong> button in Visual Studio every time you change something in your plugin, you can make it automatically build when starting Melora from Visual Studio.</p><p>To do this just right click on the &quot;Melora&quot; Solution, press &quot;Properties&quot; on the bottom. A new popup will appear, under &quot;Common Properties&quot; select &quot;Project Dependencies&quot; and check the box for your plugin project.</p><div class="hint-container info"><p class="hint-container-title">Note</p><p>Please note that this will only work if you have the cloned/forked Melora project in the steps before!</p></div><figure><img src="`+g+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="that-s-it" tabindex="-1"><a class="header-anchor" href="#that-s-it"><span>That&#39;s it!</span></a></h2><p>You’ve made it! As you can see, creating a custom Melora plugin isn’t too difficult. Now you’re all set to start developing your own plugin and to expand Melora’s capabilities!</p>',10)),a("p",null,[e[8]||(e[8]=t("To add support for any new sources, check out the ")),n(s,{to:"/plugin-development/platform-support.html"},{default:l(()=>e[6]||(e[6]=[t("Creating a Platform-Support Plugin Guide")])),_:1}),e[9]||(e[9]=t(". If you want to customize track metadata, refer to the ")),n(s,{to:"/plugin-development/platform-support.html"},{default:l(()=>e[7]||(e[7]=[t("Creating a Metadata Plugin Guide")])),_:1}),e[10]||(e[10]=t("."))])])}const v=r(y,[["render",h],["__file","getting-started.html.vue"]]),b=JSON.parse(`{"path":"/plugin-development/getting-started.html","title":"Getting Started","lang":"en-US","frontmatter":{"title":"Getting Started","icon":"fluent:lightbulb-16-filled","order":2,"description":"This guide will walk you through preparing a new project for creating a Melora plugin bundle and installing all necessary components. For simplicity this guide will only show sc...","gitInclude":[],"head":[["meta",{"property":"og:url","content":"https://localhost/Melora/plugin-development/getting-started.html"}],["meta",{"property":"og:site_name","content":"Melora"}],["meta",{"property":"og:title","content":"Getting Started"}],["meta",{"property":"og:description","content":"This guide will walk you through preparing a new project for creating a Melora plugin bundle and installing all necessary components. For simplicity this guide will only show sc..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://localhost/Melora/plugin-development/createnewproject.webp"}],["meta",{"property":"og:locale","content":"en-US"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Getting Started\\",\\"image\\":[\\"https://localhost/Melora/plugin-development/createnewproject.webp\\",\\"https://localhost/Melora/plugin-development/installapi.webp\\",\\"https://localhost/Melora/plugin-development/automaticallybuild.webp\\"],\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"IcySnex\\",\\"url\\":\\"https://github.com/IcySnex\\"}]}"]]},"headers":[{"level":2,"title":"Requirements","slug":"requirements","link":"#requirements","children":[]},{"level":2,"title":"Start Your Plugin","slug":"start-your-plugin","link":"#start-your-plugin","children":[{"level":3,"title":"Step 1: Clone/Fork Melora","slug":"step-1-clone-fork-melora","link":"#step-1-clone-fork-melora","children":[]},{"level":3,"title":"Step 2: Create a new Project","slug":"step-2-create-a-new-project","link":"#step-2-create-a-new-project","children":[]},{"level":3,"title":"Step 3: Installing the API","slug":"step-3-installing-the-api","link":"#step-3-installing-the-api","children":[]},{"level":3,"title":"Step 4 : Create a Plugin Manifest","slug":"step-4-create-a-plugin-manifest","link":"#step-4-create-a-plugin-manifest","children":[]},{"level":3,"title":"Step 5: Modify the .csproj File","slug":"step-5-modify-the-csproj-file","link":"#step-5-modify-the-csproj-file","children":[]},{"level":3,"title":"Step 6 (Optional): Automatically Build","slug":"step-6-optional-automatically-build","link":"#step-6-optional-automatically-build","children":[]}]},{"level":2,"title":"That's it!","slug":"that-s-it","link":"#that-s-it","children":[]}],"readingTime":{"minutes":2.72,"words":815},"filePathRelative":"plugin-development/getting-started.md","autoDesc":true}`);export{v as comp,b as data};
