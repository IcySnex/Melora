import{_ as p,c as r,a as n,e as l,d as o,f as e,b as t,r as i,o as c}from"./app-DS8RxCfC.js";const F="/Melora/plugin-development/metadata1.webp",D="/Melora/plugin-development/metadata2.webp",y={};function u(d,s){const a=i("RouteLink");return c(),r("div",null,[s[47]||(s[47]=n("p",null,"This guide will walk you through the process of creating your own Melora Metadata plugins so you can easily customize how metadata gets written to your tracks. In this example, we'll create a Metadata Plugin which focuses on optimized metadata for ITunes.",-1)),n("p",null,[s[1]||(s[1]=l("If you're new to Metadata plugins, please refer to the ")),o(a,{to:"/guide/metadata.html"},{default:e(()=>s[0]||(s[0]=[l("Beginner's Guide")])),_:1}),s[2]||(s[2]=l(" for an introduction."))]),s[48]||(s[48]=n("h2",{id:"setup",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#setup"},[n("span",null,"Setup")])],-1)),n("p",null,[s[4]||(s[4]=l("Before diving into coding your new shiny Melora plugin, it's important to first follow the plugin development ")),o(a,{to:"/plugin-development/getting-started.html"},{default:e(()=>s[3]||(s[3]=[l("Getting Started Guide")])),_:1}),s[5]||(s[5]=l(". This guide will walk you through setting up your IDE, project, and plugin bundle manifest, ensuring you're fully prepared to start developing your plugin."))]),s[49]||(s[49]=t(`<h2 id="structure" tabindex="-1"><a class="header-anchor" href="#structure"><span>Structure</span></a></h2><p>Before you begin, it&#39;s <strong>helpful</strong> to organize your plugin bundle with the following structure:</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="background-color:#1a1b26;color:#a9b1d6;"><pre class="shiki tokyo-night vp-code"><code><span class="line"><span>└─ Melora.Metadata.&lt;NAME&gt;</span></span>
<span class="line"><span>   ├─ Internal</span></span>
<span class="line"><span>   │  └─ ...</span></span>
<span class="line"><span>   ├─ Manifest.json</span></span>
<span class="line"><span>   └─ &lt;NAME&gt;Plugin.cs</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>Root:</strong> It&#39;s recommended to place all plugins <em>(classes that implement IPlugin)</em> in the <strong>root</strong> of your plugin bundle. The manifest should also be here.</li><li><strong>Internal:</strong> Organize additional components <em>- such as models, helper classes -</em> within an <strong>Internal</strong> namespace. This structure keeps your plugin <strong>organized</strong> and ensures that your main functionalities are <strong>easily accessible</strong> while keeping auxiliary components <strong>neatly separated</strong>.</li></ul><h2 id="implementing-your-plugin" tabindex="-1"><a class="header-anchor" href="#implementing-your-plugin"><span>Implementing Your Plugin</span></a></h2><h3 id="step-1-the-manifest" tabindex="-1"><a class="header-anchor" href="#step-1-the-manifest"><span>Step 1: The Manifest</span></a></h3>`,6)),n("p",null,[s[7]||(s[7]=l("To ensure Melora understands what your plugin bundle does, you first need to provide some essential information via a ")),s[8]||(s[8]=n("strong",null,"manifest file",-1)),s[9]||(s[9]=l(". This file tells Melora about your plugin’s purpose, author, and more. For instructions on adding the manifest to your project, refer to the ")),o(a,{to:"/plugin-development/getting-started.html#create-a-plugin-manifest"},{default:e(()=>s[6]||(s[6]=[l("Getting Started Guide")])),_:1}),s[10]||(s[10]=l("."))]),s[50]||(s[50]=t(`<h4 id="example" tabindex="-1"><a class="header-anchor" href="#example"><span>Example:</span></a></h4><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" data-title="json" style="background-color:#1a1b26;color:#a9b1d6;"><pre class="shiki tokyo-night vp-code"><code><span class="line"><span style="color:#9ABDF5;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  &quot;</span><span style="color:#7AA2F7;">Name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#9ECE6A;">ITunes</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">  &quot;</span><span style="color:#7AA2F7;">Description</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#9ECE6A;">Writes optimized metadata support specifically for iTunes for .m4a tracks.</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">  &quot;</span><span style="color:#7AA2F7;">Author</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#9ECE6A;">IcySnex</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">  &quot;</span><span style="color:#7AA2F7;">ApiVersion</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#9ECE6A;">1.0.0</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">  &quot;</span><span style="color:#7AA2F7;">LastUpdatedAt</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#9ECE6A;">2024-09-01T11:32:30Z</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">  &quot;</span><span style="color:#7AA2F7;">SourceUrl</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#9ECE6A;">https://github.com/IcySnex/Melora/tree/main/Plugins/Melora.Metadata.ITunes</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">  &quot;</span><span style="color:#7AA2F7;">DownloadUrl</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#9ECE6A;">https://github.com/IcySnex/Melora/releases/download/v1.0.0-stable/Melora.Metadata.ITunes.mlr</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">  &quot;</span><span style="color:#7AA2F7;">PluginKinds</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#9ABDF5;"> [</span></span>
<span class="line"><span style="color:#FF9E64;">    1</span></span>
<span class="line"><span style="color:#9ABDF5;">  ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">  &quot;</span><span style="color:#7AA2F7;">EntryPoint</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#9ECE6A;">Melora.Metadata.ITunes.dll</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">  &quot;</span><span style="color:#7AA2F7;">Dependencies</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#9ABDF5;"> [</span></span>
<span class="line"><span style="color:#89DDFF;">    &quot;</span><span style="color:#9ECE6A;">ATL.dll</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">    &quot;</span><span style="color:#9ECE6A;">Ude.NetStandard.dll</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">    &quot;</span><span style="color:#9ECE6A;">System.Drawing.Common.dll</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">    &quot;</span><span style="color:#9ECE6A;">Microsoft.Win32.SystemEvents.dll</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#9ABDF5;">  ]</span></span>
<span class="line"><span style="color:#9ABDF5;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="step-2-the-plugin-class" tabindex="-1"><a class="header-anchor" href="#step-2-the-plugin-class"><span>Step 2: The Plugin Class</span></a></h3>`,3)),n("ul",null,[s[16]||(s[16]=n("li",null,[l("Create a new class called "),n("code",null,"<NAME>Plugin.cs"),l(" in the root of your project.")],-1)),n("li",null,[s[13]||(s[13]=l("This class should inherit from ")),o(a,{to:"/plugin-api-reference/Melora.Plugins/Abstract/MetadataPlugin.html"},{default:e(()=>s[11]||(s[11]=[n("code",null,"MetadataPlugin",-1)])),_:1}),s[14]||(s[14]=l(", which itself implements the ")),o(a,{to:"/plugin-api-reference/Melora.Plugins/Abstract/IPlugin.html"},{default:e(()=>s[12]||(s[12]=[n("code",null,"IPlugin",-1)])),_:1}),s[15]||(s[15]=l(" interface."))])]),s[51]||(s[51]=t(`<div class="language-cs line-numbers-mode" data-highlighter="shiki" data-ext="cs" data-title="cs" style="background-color:#1a1b26;color:#a9b1d6;"><pre class="shiki tokyo-night vp-code"><code><span class="line"><span style="color:#9D7CD8;font-style:italic;">public</span><span style="color:#BB9AF7;"> class</span><span style="color:#C0CAF5;"> ITunesPlugin</span><span style="color:#89DDFF;"> :</span><span style="color:#C0CAF5;"> MetadataPlugin</span></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#9D7CD8;font-style:italic;">    public</span><span style="color:#9D7CD8;font-style:italic;"> override</span><span style="color:#C0CAF5;"> Task</span><span style="color:#7AA2F7;"> WriteAsync</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#BB9AF7;">        string</span><span style="color:#C0CAF5;"> filePath</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#C0CAF5;">        DownloadableTrack</span><span style="color:#C0CAF5;"> track</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#C0CAF5;">        CancellationToken</span><span style="color:#C0CAF5;"> cancellationToken</span><span style="color:#89DDFF;"> =</span><span style="color:#89DDFF;"> default)</span><span style="color:#89DDFF;"> =&gt;</span></span>
<span class="line"><span style="color:#BB9AF7;font-style:italic;">        throw</span><span style="color:#89DDFF;"> new</span><span style="color:#C0CAF5;"> NotImplementedException</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="methods" tabindex="-1"><a class="header-anchor" href="#methods"><span>Methods:</span></a></h4><table><thead><tr><th>Method</th><th>Description</th></tr></thead><tbody><tr><td><code>WriteAsync</code></td><td>Writes the metadata for the <code>DownloadableTrack</code> to the audio file located at the <code>filePath</code>.</td></tr></tbody></table><h3 id="step-3-the-constructors" tabindex="-1"><a class="header-anchor" href="#step-3-the-constructors"><span>Step 3: The Constructors</span></a></h3>`,4)),n("p",null,[s[18]||(s[18]=l("The ")),o(a,{to:"/plugin-api-reference/Melora.Plugins/Abstract/MetadataPlugin.html"},{default:e(()=>s[17]||(s[17]=[n("code",null,"MetadataPlugin",-1)])),_:1}),s[19]||(s[19]=l(" class ")),s[20]||(s[20]=n("strong",null,"requires",-1)),s[21]||(s[21]=l(" a few key pieces of information from your plugin, which are passed through its constructor. Here’s a breakdown of the parameters:"))]),n("table",null,[s[29]||(s[29]=n("thead",null,[n("tr",null,[n("th",null,"Parameter"),n("th",null,"Description")])],-1)),n("tbody",null,[s[26]||(s[26]=n("tr",null,[n("td",null,[n("code",null,"string"),l(" name")]),n("td",null,"The name of the plugin. This will be used to display your plugin in the Melora client UI.")],-1)),s[27]||(s[27]=n("tr",null,[n("td",null,[n("code",null,"string"),l(" iconPathData")]),n("td",null,"The svg path data for the plugin icon. This will be used to display your plugin in the Melora client UI.")],-1)),n("tr",null,[s[25]||(s[25]=n("td",null,[n("code",null,"MetadataPlugin"),l(" config")],-1)),n("td",null,[s[23]||(s[23]=l("The config the plugin gets initialized with. Learn more about plugin configs ")),o(a,{to:"/plugin-development/configs.html"},{default:e(()=>s[22]||(s[22]=[l("here")])),_:1}),s[24]||(s[24]=l("."))])]),s[28]||(s[28]=n("tr",null,[n("td",null,[n("code",null,"ILogger<IPlugin>?"),l(" logger")]),n("td",null,"An optional logger.")],-1))])]),n("ul",null,[n("li",null,[s[31]||(s[31]=l("Your plugin's constructor will need to pass these parameters when calling the ")),s[32]||(s[32]=n("strong",null,"base class constructor",-1)),s[33]||(s[33]=l(" to properly initialize the ")),o(a,{to:"/plugin-api-reference/Melora.Plugins/Abstract/MetadataPlugin.html"},{default:e(()=>s[30]||(s[30]=[n("code",null,"MetadataPlugin",-1)])),_:1}),s[34]||(s[34]=l("."))])]),s[52]||(s[52]=t(`<h4 id="example-1" tabindex="-1"><a class="header-anchor" href="#example-1"><span>Example:</span></a></h4><p>The Melora client will attempt to use various constructors based on your implementation and if a config is already saved for your plugin. Thats why you need to implement multiple constructors.</p><ul><li>Here are the required constructors if you plan on using logging in your plugin:</li></ul><div class="language-cs line-numbers-mode" data-highlighter="shiki" data-ext="cs" data-title="cs" style="background-color:#1a1b26;color:#a9b1d6;"><pre class="shiki tokyo-night vp-code"><code><span class="line"><span style="color:#9D7CD8;font-style:italic;">public</span><span style="color:#7AA2F7;"> ITunesPlugin</span><span style="color:#89DDFF;">(</span><span style="color:#C0CAF5;">MetadataPluginConfig</span><span style="color:#89DDFF;">?</span><span style="color:#C0CAF5;"> config</span><span style="color:#89DDFF;">,</span><span style="color:#C0CAF5;"> ILogger</span><span style="color:#BB9AF7;">&lt;</span><span style="color:#C0CAF5;">IPlugin</span><span style="color:#BB9AF7;">&gt;</span><span style="color:#89DDFF;">?</span><span style="color:#C0CAF5;"> logger</span><span style="color:#89DDFF;">)</span><span style="color:#89DDFF;"> :</span><span style="color:#F7768E;"> base</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#C0CAF5;">    name</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#9ECE6A;">iTunes</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A9B1D6;">,</span></span>
<span class="line"><span style="color:#C0CAF5;">    iconPathData</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#9ECE6A;">M312.8 371.2c-1.8.2-3.6.3-5.4.3-21.8 0-39.5-16.4-41.1-38.1-1.8-23.6 16-45.1 39.6-48.1 5.2-.7 10.5-.4 15.4.8v-94.4L229 209v128c0 .2 0 .5-.1.7v.1c1.7 23.5-16 45-39.6 48-1.8.2-3.6.3-5.4.3-21.8 0-39.5-16.4-41.1-38.1-1.8-23.6 15.9-45.1 39.6-48.1 5.2-.6 10.4-.3 15.4.9V155.1c0-2 1.5-3.8 3.5-4.1l146-24.9h.1c1.1-.2 2.3 0 3.2.6 1.3.8 2 2.3 1.9 3.8v.5 191.5.6.1c1.7 23.5-16.1 45.1-39.7 48zM256 0C114.8 0 0 114.8 0 256s114.8 256 256 256 256-114.8 256-256S397.2 0 256 0zm153.6 409.6c-41 41-95.6 63.6-153.6 63.6s-112.6-22.6-153.6-63.6S38.8 314 38.8 256s22.6-112.6 63.6-153.6S198 38.8 256 38.8s112.6 22.6 153.6 63.6S473.2 198 473.2 256s-22.6 112.6-63.6 153.6z</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A9B1D6;">,</span></span>
<span class="line"><span style="color:#C0CAF5;">    config</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> new(</span></span>
<span class="line"><span style="color:#C0CAF5;">        defaultOptions</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#89DDFF;">        [</span></span>
<span class="line"><span style="color:#89DDFF;">            new</span><span style="color:#C0CAF5;"> SelectableOption</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#9ECE6A;">Media Type</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#9ECE6A;">The media type iTunes will recognize downloaded tracks as.</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#9ECE6A;">Music</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> [</span><span style="color:#89DDFF;">&quot;</span><span style="color:#9ECE6A;">Music</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#9ECE6A;">Audiobook</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#9ECE6A;">Music Video</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#9ECE6A;">Movie</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#9ECE6A;">TV Show</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#9ECE6A;">Booklet</span><span style="color:#89DDFF;">&quot;&quot;</span><span style="color:#9ECE6A;">Ringtone</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">  &quot;</span><span style="color:#9ECE6A;">Podcast</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#9ECE6A;">iTunes U</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">]),</span></span>
<span class="line"><span style="color:#89DDFF;">            new</span><span style="color:#C0CAF5;"> StringOption</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#9ECE6A;">Account</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#9ECE6A;">The email address of the iTunes account used to &#39;purchase&#39; downloaded track.</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &quot;&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#FF9E64;"> 25</span><span style="color:#89DDFF;">),</span></span>
<span class="line"><span style="color:#89DDFF;">            new</span><span style="color:#C0CAF5;"> StringOption</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#9ECE6A;">Owner</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#9ECE6A;">The name of the account used to &#39;purchase&#39; downloaded track.</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &quot;&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#FF9E64;"> 25</span><span style="color:#89DDFF;">),</span></span>
<span class="line"><span style="color:#89DDFF;">            new</span><span style="color:#C0CAF5;"> BoolOption</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#9ECE6A;">Current Date as Release</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#9ECE6A;">Whether to set the current date as the release date.</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#FF9E64;"> false</span><span style="color:#89DDFF;">),</span></span>
<span class="line"><span style="color:#89DDFF;">            new</span><span style="color:#C0CAF5;"> BoolOption</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#9ECE6A;">Save Artwork</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#9ECE6A;">Whether to save the artwork.</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#FF9E64;"> true</span><span style="color:#89DDFF;">),</span></span>
<span class="line"><span style="color:#89DDFF;">            new</span><span style="color:#C0CAF5;"> IntOption</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#9ECE6A;">Artwork Resolution</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#9ECE6A;">The resolution (nXn) the artwork gets resized to before saving.</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#FF9E64;"> 512</span><span style="color:#89DDFF;">,</span><span style="color:#FF9E64;"> 32</span><span style="color:#89DDFF;">,</span><span style="color:#FF9E64;"> 1024</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;">        ],</span></span>
<span class="line"><span style="color:#C0CAF5;">        initialConfig</span><span style="color:#89DDFF;">:</span><span style="color:#C0CAF5;"> config</span><span style="color:#89DDFF;">)</span><span style="color:#A9B1D6;">,</span></span>
<span class="line"><span style="color:#C0CAF5;">    logger</span><span style="color:#89DDFF;">:</span><span style="color:#C0CAF5;"> logger</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;">{</span><span style="color:#89DDFF;"> }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9D7CD8;font-style:italic;">public</span><span style="color:#7AA2F7;"> ITunesPlugin</span><span style="color:#89DDFF;">(</span><span style="color:#C0CAF5;">ILogger</span><span style="color:#BB9AF7;">&lt;</span><span style="color:#C0CAF5;">IPlugin</span><span style="color:#BB9AF7;">&gt;</span><span style="color:#89DDFF;">?</span><span style="color:#C0CAF5;"> logger</span><span style="color:#89DDFF;">)</span><span style="color:#89DDFF;"> :</span><span style="color:#F7768E;"> this</span><span style="color:#89DDFF;">(</span><span style="color:#FF9E64;">null</span><span style="color:#89DDFF;">,</span><span style="color:#C0CAF5;"> logger</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;">{</span><span style="color:#89DDFF;"> }</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>If you don’t need logging in your plugin, use these constructors:</li></ul><div class="language-cs line-numbers-mode" data-highlighter="shiki" data-ext="cs" data-title="cs" style="background-color:#1a1b26;color:#a9b1d6;"><pre class="shiki tokyo-night vp-code"><code><span class="line"><span style="color:#9D7CD8;font-style:italic;">public</span><span style="color:#7AA2F7;"> ITunesPlugin</span><span style="color:#89DDFF;">(</span><span style="color:#C0CAF5;">MetadataPluginConfig</span><span style="color:#89DDFF;">?</span><span style="color:#C0CAF5;"> config</span><span style="color:#89DDFF;">)</span><span style="color:#89DDFF;"> :</span><span style="color:#F7768E;"> base</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#C0CAF5;">    name</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#9ECE6A;">iTunes</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A9B1D6;">,</span></span>
<span class="line"><span style="color:#C0CAF5;">    iconPathData</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#9ECE6A;">M312.8 371.2c-1.8.2-3.6.3-5.4.3-21.8 0-39.5-16.4-41.1-38.1-1.8-23.6 16-45.1 39.6-48.1 5.2-.7 10.5-.4 15.4.8v-94.4L229 209v128c0 .2 0 .5-.1.7v.1c1.7 23.5-16 45-39.6 48-1.8.2-3.6.3-5.4.3-21.8 0-39.5-16.4-41.1-38.1-1.8-23.6 15.9-45.1 39.6-48.1 5.2-.6 10.4-.3 15.4.9V155.1c0-2 1.5-3.8 3.5-4.1l146-24.9h.1c1.1-.2 2.3 0 3.2.6 1.3.8 2 2.3 1.9 3.8v.5 191.5.6.1c1.7 23.5-16.1 45.1-39.7 48zM256 0C114.8 0 0 114.8 0 256s114.8 256 256 256 256-114.8 256-256S397.2 0 256 0zm153.6 409.6c-41 41-95.6 63.6-153.6 63.6s-112.6-22.6-153.6-63.6S38.8 314 38.8 256s22.6-112.6 63.6-153.6S198 38.8 256 38.8s112.6 22.6 153.6 63.6S473.2 198 473.2 256s-22.6 112.6-63.6 153.6z</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A9B1D6;">,</span></span>
<span class="line"><span style="color:#C0CAF5;">    config</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> new(</span></span>
<span class="line"><span style="color:#C0CAF5;">        defaultOptions</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#89DDFF;">        [</span></span>
<span class="line"><span style="color:#89DDFF;">            new</span><span style="color:#C0CAF5;"> SelectableOption</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#9ECE6A;">Media Type</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#9ECE6A;">The media type iTunes will recognize downloaded tracks as.</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#9ECE6A;">Music</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> [</span><span style="color:#89DDFF;">&quot;</span><span style="color:#9ECE6A;">Music</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#9ECE6A;">Audiobook</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#9ECE6A;">Music Video</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#9ECE6A;">Movie</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#9ECE6A;">TV Show</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#9ECE6A;">Booklet</span><span style="color:#89DDFF;">&quot;&quot;</span><span style="color:#9ECE6A;">Ringtone</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">  &quot;</span><span style="color:#9ECE6A;">Podcast</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#9ECE6A;">iTunes U</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">]),</span></span>
<span class="line"><span style="color:#89DDFF;">            new</span><span style="color:#C0CAF5;"> StringOption</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#9ECE6A;">Account</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#9ECE6A;">The email address of the iTunes account used to &#39;purchase&#39; downloaded track.</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &quot;&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#FF9E64;"> 25</span><span style="color:#89DDFF;">),</span></span>
<span class="line"><span style="color:#89DDFF;">            new</span><span style="color:#C0CAF5;"> StringOption</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#9ECE6A;">Owner</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#9ECE6A;">The name of the account used to &#39;purchase&#39; downloaded track.</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &quot;&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#FF9E64;"> 25</span><span style="color:#89DDFF;">),</span></span>
<span class="line"><span style="color:#89DDFF;">            new</span><span style="color:#C0CAF5;"> BoolOption</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#9ECE6A;">Current Date as Release</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#9ECE6A;">Whether to set the current date as the release date.</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#FF9E64;"> false</span><span style="color:#89DDFF;">),</span></span>
<span class="line"><span style="color:#89DDFF;">            new</span><span style="color:#C0CAF5;"> BoolOption</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#9ECE6A;">Save Artwork</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#9ECE6A;">Whether to save the artwork.</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#FF9E64;"> true</span><span style="color:#89DDFF;">),</span></span>
<span class="line"><span style="color:#89DDFF;">            new</span><span style="color:#C0CAF5;"> IntOption</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#9ECE6A;">Artwork Resolution</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#9ECE6A;">The resolution (nXn) the artwork gets resized to before saving.</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#FF9E64;"> 512</span><span style="color:#89DDFF;">,</span><span style="color:#FF9E64;"> 32</span><span style="color:#89DDFF;">,</span><span style="color:#FF9E64;"> 1024</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;">        ],</span></span>
<span class="line"><span style="color:#C0CAF5;">        initialConfig</span><span style="color:#89DDFF;">:</span><span style="color:#C0CAF5;"> config</span><span style="color:#89DDFF;">)</span><span style="color:#A9B1D6;">,</span></span>
<span class="line"><span style="color:#C0CAF5;">    logger</span><span style="color:#89DDFF;">:</span><span style="color:#FF9E64;"> null</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;">{</span><span style="color:#89DDFF;"> }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9D7CD8;font-style:italic;">public</span><span style="color:#7AA2F7;"> ITunesPlugin</span><span style="color:#89DDFF;">()</span><span style="color:#89DDFF;"> :</span><span style="color:#F7768E;"> this</span><span style="color:#89DDFF;">(</span><span style="color:#FF9E64;">null</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;">{</span><span style="color:#89DDFF;"> }</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container warning"><p class="hint-container-title">Note</p><p>It is <strong>always recommended</strong> to use logging in your plugin. This makes debugging <strong>easier</strong> if a user ever encounters any issues.</p><p>Especially since it&#39;s very easy to implement logging with Melora&#39;s plugin infrastructure.</p></div><h3 id="step-4-validate" tabindex="-1"><a class="header-anchor" href="#step-4-validate"><span>Step 4: Validate</span></a></h3><p>Before proceeding, ensure that everything is set up correctly. If you have followed the <a href="%22/Melora/plugin-development/getting-started.html%22">Getting Started Guide</a> and cloned/forked the Melora Solution, you should be able to validate your plugin as follows:</p><ul><li><strong>Start Melora:</strong> In Visual Studio, press the <strong>&quot;⯈ Melora (Unpackaged)&quot;</strong> button. This will <strong>launch</strong> Melora with your plugin automatically loaded.</li><li>You should see a notification in the <strong>bottom right corner</strong> of Melora indicating that your plugin has been loaded.</li><li>On the <strong>Settings</strong> page under the <strong>Metadata</strong> section, your plugin should be visible. You can now also make it the <strong>Selected</strong>.</li></ul><figure><img src="`+F+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="step-5-writing-metadata" tabindex="-1"><a class="header-anchor" href="#step-5-writing-metadata"><span>Step 5: Writing Metadata</span></a></h3>',12)),n("p",null,[s[36]||(s[36]=l("Now lets get to the actual coding part. To implement metadata writing, you need to override the ")),o(a,{to:"/plugin-api-reference/Melora.Plugins/Abstract/MetadataPlugin.html#writeasync"},{default:e(()=>s[35]||(s[35]=[n("code",null,"WriteAsync",-1),l(" method")])),_:1}),s[37]||(s[37]=l(" in your plugin class. This method will handle embedding metadata into the downloaded audio file. This method provides:"))]),s[53]||(s[53]=t(`<table><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td><code>string</code> filePath</td><td>The path to the audio file.</td></tr><tr><td><code>DownloadableTrack</code> track</td><td>The downloadable track containing the metadata.</td></tr><tr><td><code>CancellationToken</code> cancellationToken</td><td>A token to handle cancellation requests.</td></tr></tbody></table><h4 id="high-level-overview" tabindex="-1"><a class="header-anchor" href="#high-level-overview"><span>High-Level Overview:</span></a></h4><ul><li><strong>Load Audio File:</strong> Use an audio metadata library to open and process the audio file located at filePath.</li><li><strong>Write Metadata:</strong> Extract the metadata from the DownloadableTrack object and write it to the audio file.</li><li><strong>Save Audio File:</strong> Save the updated audio file with the new metadata back to the specified path.</li></ul><h4 id="example-2" tabindex="-1"><a class="header-anchor" href="#example-2"><span>Example:</span></a></h4><p>This is a shorten version. You can see the entire source code on <a href="https://github.com/IcySnex/Melora/tree/main/Plugins/Melora.Metadata.ITunes/" target="_blank" rel="noopener noreferrer">GitHub</a>.</p><div class="language-cs line-numbers-mode" data-highlighter="shiki" data-ext="cs" data-title="cs" style="background-color:#1a1b26;color:#a9b1d6;"><pre class="shiki tokyo-night vp-code"><code><span class="line"><span style="color:#9D7CD8;font-style:italic;">public</span><span style="color:#9D7CD8;font-style:italic;"> override</span><span style="color:#9D7CD8;font-style:italic;"> async</span><span style="color:#C0CAF5;"> Task</span><span style="color:#7AA2F7;"> WriteAsync</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#BB9AF7;">    string</span><span style="color:#C0CAF5;"> filePath</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#C0CAF5;">    DownloadableTrack</span><span style="color:#C0CAF5;"> track</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#C0CAF5;">    CancellationToken</span><span style="color:#C0CAF5;"> cancellationToken</span><span style="color:#89DDFF;"> =</span><span style="color:#89DDFF;"> default)</span></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#C0CAF5;">    logger</span><span style="color:#89DDFF;">?.</span><span style="color:#7AA2F7;">LogInformation</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#9ECE6A;">[ITunesPlugin-WriteAsync] Starting to write track metadata...</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C0CAF5;">    Track</span><span style="color:#C0CAF5;"> file</span><span style="color:#89DDFF;"> =</span><span style="color:#89DDFF;"> new(</span><span style="color:#C0CAF5;">filePath</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#BB9AF7;">    if</span><span style="color:#89DDFF;"> (</span><span style="color:#C0CAF5;">file</span><span style="color:#89DDFF;">.</span><span style="color:#C0CAF5;">AudioFormat</span><span style="color:#89DDFF;">.</span><span style="color:#C0CAF5;">ShortName</span><span style="color:#BB9AF7;"> !=</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#9ECE6A;">MPEG-4</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#BB9AF7;font-style:italic;">        throw</span><span style="color:#89DDFF;"> new</span><span style="color:#C0CAF5;"> Exception</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#9ECE6A;">This Metadata Plugin only support writing audio files in &#39;MPEG-4&#39; format.</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> new(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#9ECE6A;">Please select &#39;4a&#39; as the download format in your Platform-Support Plugin.</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">));</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BB9AF7;">    string</span><span style="color:#C0CAF5;"> mediaType</span><span style="color:#89DDFF;"> =</span><span style="color:#C0CAF5;"> Config</span><span style="color:#89DDFF;">.</span><span style="color:#7AA2F7;">GetSelectableOption</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#9ECE6A;">Media Type</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#BB9AF7;">    string</span><span style="color:#C0CAF5;"> account</span><span style="color:#89DDFF;"> =</span><span style="color:#C0CAF5;"> Config</span><span style="color:#89DDFF;">.</span><span style="color:#7AA2F7;">GetStringOption</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#9ECE6A;">Account</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#89DDFF;">    ..</span><span style="color:#A9B1D6;">.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#51597D;font-style:italic;">    // Default fields</span></span>
<span class="line"><span style="color:#C0CAF5;">    file</span><span style="color:#89DDFF;">.</span><span style="color:#C0CAF5;">Title</span><span style="color:#89DDFF;"> =</span><span style="color:#C0CAF5;"> track</span><span style="color:#89DDFF;">.</span><span style="color:#C0CAF5;">Title</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C0CAF5;">    file</span><span style="color:#89DDFF;">.</span><span style="color:#C0CAF5;">Artist</span><span style="color:#89DDFF;"> =</span><span style="color:#C0CAF5;"> track</span><span style="color:#89DDFF;">.</span><span style="color:#C0CAF5;">Artists</span><span style="color:#89DDFF;">.</span><span style="color:#7AA2F7;">Replace</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#9ECE6A;">, </span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#9ECE6A;">; </span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#89DDFF;">    ..</span><span style="color:#A9B1D6;">.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#51597D;font-style:italic;">    // Sorting</span></span>
<span class="line"><span style="color:#C0CAF5;">    file</span><span style="color:#89DDFF;">.</span><span style="color:#C0CAF5;">SortTitle</span><span style="color:#89DDFF;"> =</span><span style="color:#C0CAF5;"> file</span><span style="color:#89DDFF;">.</span><span style="color:#C0CAF5;">Title</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C0CAF5;">    file</span><span style="color:#89DDFF;">.</span><span style="color:#C0CAF5;">SortArtist</span><span style="color:#89DDFF;"> =</span><span style="color:#C0CAF5;"> file</span><span style="color:#89DDFF;">.</span><span style="color:#C0CAF5;">Artist</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">    ..</span><span style="color:#A9B1D6;">.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#51597D;font-style:italic;">    // Additional fields</span></span>
<span class="line"><span style="color:#BB9AF7;">    if</span><span style="color:#89DDFF;"> (</span><span style="color:#C0CAF5;">mediaType</span><span style="color:#BB9AF7;"> ==</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#9ECE6A;">Podcast</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#C0CAF5;">        file</span><span style="color:#89DDFF;">.</span><span style="color:#C0CAF5;">AdditionalFields</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#9ECE6A;">pcst</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">]</span><span style="color:#89DDFF;"> =</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#9ECE6A;">1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span><span style="color:#51597D;font-style:italic;"> // PODCAST</span></span>
<span class="line"><span style="color:#BB9AF7;">    else</span></span>
<span class="line"><span style="color:#C0CAF5;">        file</span><span style="color:#89DDFF;">.</span><span style="color:#C0CAF5;">AdditionalFields</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#9ECE6A;">stik</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">]</span><span style="color:#89DDFF;"> =</span><span style="color:#C0CAF5;"> mediaType</span><span style="color:#BB9AF7;"> switch</span><span style="color:#51597D;font-style:italic;"> // ITUNESMEDIATYPE </span></span>
<span class="line"><span style="color:#89DDFF;">        {</span></span>
<span class="line"><span style="color:#89DDFF;">            &quot;</span><span style="color:#9ECE6A;">Music</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> =&gt;</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#9ECE6A;">1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">            &quot;</span><span style="color:#9ECE6A;">Audiobook</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> =&gt;</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#9ECE6A;">2</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">            &quot;</span><span style="color:#9ECE6A;">Music Video</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> =&gt;</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#9ECE6A;">6</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">            &quot;</span><span style="color:#9ECE6A;">Movie</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> =&gt;</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#9ECE6A;">9</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">            &quot;</span><span style="color:#9ECE6A;">TV Show</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> =&gt;</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#9ECE6A;">10</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">            &quot;</span><span style="color:#9ECE6A;">Booklet</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> =&gt;</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#9ECE6A;">11</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">            &quot;</span><span style="color:#9ECE6A;">Ringtone</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> =&gt;</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#9ECE6A;">13</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">            &quot;</span><span style="color:#9ECE6A;">iTunes U</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> =&gt;</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#9ECE6A;">23</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F7768E;">            _</span><span style="color:#89DDFF;"> =&gt;</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#9ECE6A;">1</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">        };</span></span>
<span class="line"><span style="color:#C0CAF5;">    file</span><span style="color:#89DDFF;">.</span><span style="color:#C0CAF5;">AdditionalFields</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#9ECE6A;">apID</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">]</span><span style="color:#89DDFF;"> =</span><span style="color:#C0CAF5;"> account</span><span style="color:#89DDFF;">;</span><span style="color:#51597D;font-style:italic;"> // ITUNESACCOUNT</span></span>
<span class="line"><span style="color:#89DDFF;">    ..</span><span style="color:#A9B1D6;">.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#51597D;font-style:italic;">    // Picture field</span></span>
<span class="line"><span style="color:#89DDFF;">    ..</span><span style="color:#A9B1D6;">.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">    await</span><span style="color:#C0CAF5;"> file</span><span style="color:#89DDFF;">.</span><span style="color:#7AA2F7;">SaveAsync</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#C0CAF5;">    logger</span><span style="color:#89DDFF;">?.</span><span style="color:#7AA2F7;">LogInformation</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#9ECE6A;">[ITunesPlugin-WriteAsync] Wrote track metadata</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="step-6-validate" tabindex="-1"><a class="header-anchor" href="#step-6-validate"><span>Step 6: Validate</span></a></h3><p>To make sure your Metadata Plugin works as expected, you can use Metadata editors like <a href="https://www.mp3tag.de/en/()" target="_blank" rel="noopener noreferrer">Mp3tag</a>. This allows you to easily check the metadata tags for all kind of audio formats.</p><figure><img src="`+D+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="publishing" tabindex="-1"><a class="header-anchor" href="#publishing"><span>Publishing</span></a></h2><p>If you’ve followed the guide successfully, you should now be able to write the Metadata for tracks seamlessly. Before you publish, make sure to test everything <strong>thoroughly</strong> to ensure that your plugin functions as expected.</p>',11)),n("p",null,[s[40]||(s[40]=l("Once you’ve ")),s[41]||(s[41]=n("strong",null,"verified",-1)),s[42]||(s[42]=l(" that everything works ")),s[43]||(s[43]=n("strong",null,"properly",-1)),s[44]||(s[44]=l(", refer to the ")),o(a,{to:"/plugin-development/publishing.html"},{default:e(()=>s[38]||(s[38]=[l("Publishing Guide")])),_:1}),s[45]||(s[45]=l(" to list your plugin in the ")),o(a,{to:"/plugin-collection/platform-support.html"},{default:e(()=>s[39]||(s[39]=[l("official Melora Plugin Collection")])),_:1}),s[46]||(s[46]=l("."))])])}const m=p(y,[["render",u],["__file","metadata.html.vue"]]),v=JSON.parse('{"path":"/plugin-development/metadata.html","title":"Metadata","lang":"en-US","frontmatter":{"title":"Metadata","icon":"tabler:tag-filled","order":6,"description":"This guide will walk you through the process of creating your own Melora Metadata plugins so you can easily customize how metadata gets written to your tracks. In this example, ...","gitInclude":[],"head":[["meta",{"property":"og:url","content":"https://localhost/Melora/plugin-development/metadata.html"}],["meta",{"property":"og:site_name","content":"Melora"}],["meta",{"property":"og:title","content":"Metadata"}],["meta",{"property":"og:description","content":"This guide will walk you through the process of creating your own Melora Metadata plugins so you can easily customize how metadata gets written to your tracks. In this example, ..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://localhost/Melora/plugin-development/metadata1.webp"}],["meta",{"property":"og:locale","content":"en-US"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Metadata\\",\\"image\\":[\\"https://localhost/Melora/plugin-development/metadata1.webp\\",\\"https://localhost/Melora/plugin-development/metadata2.webp\\"],\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"IcySnex\\",\\"url\\":\\"https://github.com/IcySnex\\"}]}"]]},"headers":[{"level":2,"title":"Setup","slug":"setup","link":"#setup","children":[]},{"level":2,"title":"Structure","slug":"structure","link":"#structure","children":[]},{"level":2,"title":"Implementing Your Plugin","slug":"implementing-your-plugin","link":"#implementing-your-plugin","children":[{"level":3,"title":"Step 1: The Manifest","slug":"step-1-the-manifest","link":"#step-1-the-manifest","children":[]},{"level":3,"title":"Step 2: The Plugin Class","slug":"step-2-the-plugin-class","link":"#step-2-the-plugin-class","children":[]},{"level":3,"title":"Step 3: The Constructors","slug":"step-3-the-constructors","link":"#step-3-the-constructors","children":[]},{"level":3,"title":"Step 4: Validate","slug":"step-4-validate","link":"#step-4-validate","children":[]},{"level":3,"title":"Step 5: Writing Metadata","slug":"step-5-writing-metadata","link":"#step-5-writing-metadata","children":[]},{"level":3,"title":"Step 6: Validate","slug":"step-6-validate","link":"#step-6-validate","children":[]}]},{"level":2,"title":"Publishing","slug":"publishing","link":"#publishing","children":[]}],"readingTime":{"minutes":5.27,"words":1580},"filePathRelative":"plugin-development/metadata.md","autoDesc":true}');export{m as comp,v as data};
